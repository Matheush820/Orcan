@inherits LayoutComponentBase


<MudThemeProvider Theme="Configuration.Theme" />
<MudSnackbarProvider />
<MudPopoverProvider />

<AuthorizeView>
    <Authorized>
        <MudLayout>
            <MudAppBar>
                <MudIconButton 
                    Icon="@Icons.Material.Filled.Menu" 
                    Color="Color.Inherit" 
                    Edge="Edge.Start" 
                    OnClick="ToggleDrawer"/>

                <MudText Typo="Typo.h6">Orcan</MudText>
                <MudSpacer />
                <MudButton Href="/lancamentos/novo" Variant="Variant.Text" StartIcon="@Icons.Material.TwoTone.Add">NOVO LANÇAMENTO</MudButton>
                <MudSpacer />

                <MudText Typo="Typo.caption">
                    @context.User.Identity?.Name
                </MudText>
            </MudAppBar>

            <MudDrawer @bind-Open="@_isDrawerOpened">

               <NavMenu />
            </MudDrawer>


            <MudMainContent Class="mt-4">
                <MudContainer MaxWidth="MaxWidth.Medium" Class="mt-4">
                    @Body
                </MudContainer>
            </MudMainContent>

        </MudLayout>
    </Authorized>
    <NotAuthorized>
        <LoginRedirect />
    </NotAuthorized>
</AuthorizeView>



@code {
    private bool _isDrawerOpened = true;
    private void ToggleDrawer() => _isDrawerOpened = !_isDrawerOpened;
    
}
